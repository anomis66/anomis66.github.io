<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<!-- The above meta tags *must* come first in the head; any other head content must come *after* these tags -->

<meta content='yes' name='apple-mobile-web-app-capable'>
<meta content='black' name='apple-mobile-web-app-status-bar-style'>

<!-- For IE 9 and below. ICO should be 32x32 pixels in size -->
<!--[if IE]><link rel="shortcut icon" href="./includes/images/favicon.ico"><![endif]-->

<!-- Touch Icons - iOS and Android 2.1+ 180x180 pixels in size. --> 
<link rel="apple-touch-icon-precomposed" href="./includes/images/anomis66_jack_180s.png">

<!-- Firefox, Chrome, Safari, IE 11+ and Opera. 196x196 pixels in size. -->
<link rel="icon" href="../../includes/images/anomis66_jack_196s.png">



<title>simonarthur.co.uk</title>
<meta name="author" content="Simon Arthur (@anomis66)">


<link rel="stylesheet" href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome-font-awesome.min.css">
<link rel="stylesheet" href="../../includes/css/default.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- quicksearch -->
<script src="../../includes/scripts/jquery.quicksearch.js"></script>

</head>

<body>

<h1>Welcome to <a href="/">simonarthur.co.uk</a></h1>
<ul class="navbar">
	<li><a href="//twitter.com/anomis66" title="twitter">
		<i class="fa fa-2x fa-twitter" aria-hidden="true"></i>
		<span class="sr-only"> twitter</span>
		</a></li>
	<li><a href="//www.last.fm/user/anomis66" title="strava">
		<i class="fa fa-2x fa-compass" aria-hidden="true"></i>
		<span class="sr-only"> strava</span>
		</a></li>
	<!-- li><a href="//www.last.fm/user/anomis66" title="last.fm">
		<i class="fa fa-2x fa-lastfm" aria-hidden="true"></i>
		<span class="sr-only"> last.fm</span>
		</a></li -->
	<li><a href="https://github.com/anomis66" title="github">
		<i class="fa fa-2x fa-github" aria-hidden="true"></i>
		<span class="sr-only"> github</span>
		</a></li>
	<li><a href="https://bitbucket.org/anomis66/" title="bitbucket">
		<i class="fa fa-2x fa-bitbucket" aria-hidden="true"></i>
		<span class="sr-only"> bitbucket</span>
		</a></li>
</ul>



<h2>Movi Collection</h2>

<form action="#">
	<input type="text" name="qs" id="qs" placeholder="filter" autofocus />
</form>

<div id="demo"></div>
<div class="loading"><img src="../../includes/images/loading_gray.gif" alt="Loading ... " width="32"></div>
<div id="noresults">No Results</div>

<script>
// executes when complete page is fully loaded, including all frames, objects and imageâ€¦
//$(window).load(function() {
// executes when HTML-Document is loaded and DOM is ready
$(document).ready(function () {
	// --- QuickSearch ---
	$("#qs").quicksearch("#table .record", {
		noResults: '#noresults',
		stripeRows: ['odd', 'even'],
		loader: 'div.loading'
	});
});


// --- Load CSV of movies ---
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
	if (this.readyState == 4 && this.status == 200) {
		
		// IF SUCCESSFUL DO STUFF WITH IT.
		doStuff(this.responseText);
		
	}
};
xhttp.open("GET", "myfilms.csv", true);
xhttp.send();



// FUNCTION TO DO STUFF WITH AJAX RESPONSE
function doStuff(file) {

	// replace EOL with next record code
	file = file.replace(/(?:\|)/g, '</span><span>');
	file = file.replace(/(?:\r\n|\r|\n)/g, '</span></div><div class="record"><span>');
	// top & tail the output to ensure valid html
	document.getElementById("demo").innerHTML = '<div id="table"><div class="record"><span>' + file + '</div></div>';

}
</script>





<footer>
	<p>&copy; Simon Arthur 2018.  All rights reserved.
</footer>

</body>

</html>